<div layout="row" class="settings-table-container">
  <div flex class="project-list-container">
    <input type="text" placeholder="Search project" class="form-control" />
    <div class="clickable" *ngFor="let project of projects; trackBy: index;" 
      layout-padding layout="row" layout-align="space-between center"
      [ngClass]="{'active': selectedProject ? project.Id == selectedProject.Id : false }">
      <div (click)="selectProject(project)" flex>{{project.Name}}</div>
      <i class="material-icons muteTxt">delete</i>
    </div>
  </div>
  <div flex class="project-detail-container">
    <div layout="column" *ngIf="selectedProject">
      <label>Project details</label>
      <div layout="row">
        Created by: {{selectedProject.CreatedBy}}
      </div>
      <div layout="row">
        Created Date: {{selectedProject.DateCreated}}
      </div>
      <div layout="row">
        Modified Date: {{selectedProject.DateModified}}
      </div>
      <div layout="row">
        Description: {{selectedProject.Description}}
      </div>
    </div>
  </div>
  <div flex class="project-members-container">
    <div layout="row" layout-align="space-between center">
      <label>Project members</label>
      <i class="material-icons clickable" (click)="openModalToModifyMembers()">mode_edit</i>
    </div>

    <div *ngFor="let member of projectMembers; trackBy: index;">
      {{member.Name}}
    </div>
  </div>
</div>

<!-- Modal -->
<div id="modify-members-modal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Edit members</h4>
      </div>
      <div class="modal-body" *ngIf="users">

        <div class="added-members">
          <div *ngFor="let member of newProjectMembers; trackBy: index;">
            <div layout="row" layout-align="start center">
              <i class="material-icons clickable" style="margin-right: 15px;"
               (click)="removeFromMembers(member)">block</i>
              <span>{{member.Name}}</span>
            </div>
          </div>
        </div>

        <div class="selecting-area" layout="row" layout-align="space-between center">
          <div class="dropdown">
            <button class="btn btn default dropdown-toggle" type="button" data-toggle="dropdown">Dropdown Example
          <span class="caret"></span></button>
            <ul class="dropdown-menu">
              <li *ngFor="let user of users; trackBy: index;" (click)="stateToAddMember(user)" class="clickable">
                <a>
                  {{user.FirstName}}&nbsp;{{user.LastName}}
                </a>
              </li>
            </ul>
          </div>

          <div layout="row" layout-align="center center" *ngIf="toAddUser">
            <span>{{toAddUser.FirstName}}&nbsp;{{toAddUser.LastName}}</span>
            <button style="margin-left: 20px;" 
              class="btn default" (click)="addAsProjectMember()">Add</button>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="saveNewSetOfMembers()">
          Save
        </button>
        <button type="button" class="btn btn-default" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>

  </div>
</div>